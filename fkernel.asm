org 500h                ;???? ?????? ????? ??????????? ?? ?????? 0000:0500h
message:
    mov ax, 0002h   ;??????? ?????
        int 10h
         
    mov dx,0h
    call SetCursorPos
        mov bp, msg
        mov cx, 20
        mov bl,04h                  
        xor bh,bh
        mov ax,1301h
        int 10h         ;????? ??????????? ? ????? ???????
         
        add dh,2            ;????????? ?????? ?? ???? ????? ???? ??? ????? ???????
        call SetCursorPos
        mov si,0
         
Command: 
    mov ah,10h
        int 16h
        cmp ah, 0Eh     ;???? ?????? ??????? BackSpase - ??????? ??????
        jz Delete_symbol
        cmp al, 0Dh
        jz Input_Command
        mov [string+si],al
        inc si
        mov ah,09h
        mov bx,0004h
        mov cx,1
        int 10h
        add dl,1
    call SetCursorPos
    jmp Command
         
Input_Command:      ;???? ????? Enter, ?? ????????? ? ?????? ??????
    mov ax,cs
    mov ds,ax
    mov es,ax
    mov di,string
    push si     ;??? ??? ?????????? ???????? si ????????, ???????? ? ?????
    mov si,write
    mov cx,5
    rep cmpsb ;?????????? ?????? - ???? ??????? write, ?? ?????????
    je wrt
    pop si
    jmp Command
         
Delete_symbol:
    cmp dl,0
    jz Command
    sub dl,1        ;???????? ?????? ?????
    call SetCursorPos
    mov al,20h      ;?????? ??? ????????????? ??????? ??????? ??????
    mov [string + si],al ;??????? ?????? ? ??????
    mov ah,09h
    mov bx,0004h
        mov cx,1
        int 10h
        dec si          ;????????? ???-?? ???????????? ????????
    jmp Command
         
wrt:    mov ax,0000h
        mov es,ax
        mov bx,700h         
        mov ch,0            ;????? ???????? - 0
        mov cl,03h          ;????????? ?????? - 3
        mov dh,0            ;????? ??????? - 0
        mov dl,80h          ;??????? ???? - 80h
        mov al,01h          ;???-?? ???????? ???????? -1
        mov ah,02h
        int 13h
    jmp 0000:0700h
 
SetCursorPos:        ;????????? ???????
        mov ah,2h
        xor bh,bh
        int 10h 
        ret
 
msg db 'Input the command...',0
write db 'write',0
string db 5 dup(?) ;????? ??? ????? ???????